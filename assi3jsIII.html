<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>sakshi Data Explorer</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f8;
      padding: 30px;
    }

    .explorer {
      background: #fff;
      border-radius: 8px;
      padding: 20px;
      max-width: 600px;
      margin: auto;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    .explorer h2 {
      margin-top: 0;
    }

    .row {
      margin-bottom: 8px;
    }

    .label {
      font-weight: bold;
    }

    button {
      margin-top: 15px;
      padding: 8px 14px;
      border: none;
      border-radius: 4px;
      background: #007bff;
      color: white;
      cursor: pointer;
    }

    button:hover {
      background: #0056b3;
    }

    pre {
      background: #222;
      color: #0f0;
      padding: 15px;
      border-radius: 6px;
      overflow-x: auto;
    }

    .raw-view .summary {
      display: none;
    }

    .raw-view .raw {
      display: block;
    }

    .raw {
      display: none;
    }
  </style>
</head>
<body>

  <div class="explorer" id="explorer">
    <h2>ðŸ“¦ Data Explorer</h2>

    <div class="summary" id="summary"></div>

    <pre class="raw" id="rawJson"></pre>

    <button id="toggleBtn">Show JSON</button>
  </div>

  <script>
    // Task 1 â€“ Sample JSON data
    const order = {
      customer: {
        name: "John Doe",
        contact: {
          email: "john@example.com",
          phone: "123-456-7890"
        }
      },
      items: [
        {
          name: "Latte",
          price: 4.5,
          toppings: ["caramel", "whipped cream"]
        }
      ],
      delivery: {
        address: "123 Java Street",
        time: "4:00 PM"
      }
    };

    // Task 2 â€“ Safe access with optional chaining + fallbacks
    const customerName = order.customer?.name || "Not Available";
    const email = order.customer?.contact?.email || "Not Available";
    const phone = order.customer?.contact?.phone || "Not Available";

    const firstItemName = order.items?.[0]?.name || "Not Available";
    const firstItemPrice = order.items?.[0]?.price || "Not Available";
    const toppings = order.items?.[0]?.toppings?.join(", ") || "Not Available";

    const address = order.delivery?.address || "Not Available";
    const deliveryTime = order.delivery?.time || "Not Available";

    // Task 3 â€“ Render formatted summary view
    const summaryEl = document.getElementById("summary");

    summaryEl.innerHTML = `
      <div class="row"><span class="label">Customer:</span> ${customerName}</div>
      <div class="row"><span class="label">Email:</span> ${email}</div>
      <div class="row"><span class="label">Phone:</span> ${phone}</div>
      <hr />
      <div class="row"><span class="label">Item:</span> ${firstItemName}</div>
      <div class="row"><span class="label">Price:</span> $${firstItemPrice}</div>
      <div class="row"><span class="label">Toppings:</span> ${toppings}</div>
      <hr />
      <div class="row"><span class="label">Delivery Address:</span> ${address}</div>
      <div class="row"><span class="label">Delivery Time:</span> ${deliveryTime}</div>
    `;

    // Task 4 â€“ Raw JSON view
    const rawJsonEl = document.getElementById("rawJson");
    rawJsonEl.textContent = JSON.stringify(order, null, 2);

    // Toggle view
    const btn = document.getElementById("toggleBtn");
    const explorer = document.getElementById("explorer");

    btn.addEventListener("click", () => {
      explorer.classList.toggle("raw-view");
      btn.textContent = explorer.classList.contains("raw-view")
        ? "Show Summary"
        : "Show JSON";
    });
  </script>

</body>
</html>

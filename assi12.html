<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Day 12 ‚Äì Tony‚Äôs Caf√© Ordering System ‚òï</title>
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #ffecd2, #fcb69f);
      color: #333;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #6a1b9a;
      text-shadow: 1px 1px #fff;
    }
    .menu, .receipt {
      background: #fff;
      padding: 15px;
      border-radius: 10px;
      margin: 20px auto;
      max-width: 500px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .menu-item {
      margin: 8px 0;
      font-size: 18px;
    }
    button {
      display: block;
      margin: 20px auto;
      padding: 10px 25px;
      border: none;
      background-color: #6a1b9a;
      color: white;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
    }
    button:hover {
      background-color: #8e24aa;
    }
    .receipt p {
      margin: 4px 0;
    }
  </style>
</head>
<body>
  <h1>‚òï Tony‚Äôs Caf√© Ordering System</h1>
  <div class="menu" id="menuList"></div>
  <button id="startOrder">Start Order</button>
  <div class="receipt" id="receipt"></div>

  <script>
    // --- Menu Item Class ---
    class MenuItem {
      constructor(name, price, type) {
        this.name = name;
        this.price = price;
        this.type = type;
      }

      describe() {
        const emoji = this.type === 'Drink' ? '‚òï' 
                    : this.type === 'Snack' ? 'ü•™' 
                    : 'üç´';
        return `${emoji} ${this.name} - ‚Çπ${this.price} (${this.type})`;
      }
    }

    // --- Menu Setup ---
    const menu = [
      new MenuItem('Latte', 150, 'Drink'),
      new MenuItem('Espresso', 120, 'Drink'),
      new MenuItem('Brownie', 100, 'Dessert'),
      new MenuItem('Grilled Sandwich', 130, 'Snack'),
      new MenuItem('Cold Coffee', 180, 'Drink')
    ];

    // --- Task 1: Show menu ---
    const menuList = document.getElementById('menuList');
    menuList.innerHTML = '<h2>Today\'s Menu</h2>' + 
      menu.map(item => `<div class='menu-item'>${item.describe()}</div>`).join('');

    // Also log menu to console
    console.log('Menu:');
    menu.forEach(item => console.log(item.describe()));

    // --- Task 2, 3, 4: Ordering System ---
    document.getElementById('startOrder').addEventListener('click', () => {
      alert('üëã Welcome to Tony‚Äôs Caf√©!');

      // Step 1: Customer Name
      let customerName = prompt("What's your name?");
      if (!customerName) customerName = "Guest";

      let orderList = [];
      let totalBill = 0;

      // Step 2: Ordering Loop
      while (true) {
        let input = prompt("Enter item name to order (or type 'done' to finish):");
        if (!input) continue;
        if (input.toLowerCase() === 'done') break;

        let orderedItem = menu.find(i => i.name.toLowerCase() === input.toLowerCase());
        if (orderedItem) {
          orderList.push(orderedItem);
          totalBill += orderedItem.price;
          alert(`‚úÖ ${orderedItem.name} added to your order!`);
        } else {
          alert("‚ùå Sorry, item not found on the menu.");
        }
      }

      if (orderList.length === 0) {
        alert("‚ö†Ô∏è You did not order anything!");
        document.getElementById('receipt').innerText = "No order placed.";
        return;
      }

      // Step 3: Loyalty Discount
      let isReturning = prompt("Are you a returning customer? (yes/no)");
      let discount = 0;
      if (isReturning && isReturning.toLowerCase() === "yes") {
        discount = totalBill * 0.1;
        totalBill -= discount;
        alert(`üéâ You saved ‚Çπ${discount.toFixed(2)} with your loyalty discount!`);
      }

      // Step 4: Generate Receipt
      let receiptText = `
-------------------------
Customer: ${customerName}
Items Ordered:
${orderList.map(i => i.describe()).join('\n')}
-------------------------
Total Items: ${orderList.length}
${discount > 0 ? `Discount: ‚Çπ${discount.toFixed(2)}\n` : ''}
Total: ‚Çπ${totalBill}
-------------------------
Thank you for visiting Tony‚Äôs Caf√©! ‚òï
`;

      document.getElementById('receipt').innerText = receiptText;
    });
  </script>
</body>
</html>

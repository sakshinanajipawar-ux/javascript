<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>DOM Performance Comparison</title>

<style>
  body {
    font-family: "Courier New", monospace;
    background: linear-gradient(135deg, #1a1a2e, #16213e);
    color: #fff;
    text-align: center;
    padding: 40px 20px;
  }

  h1 {
    color: #ffcc70;
    margin-bottom: 15px;
  }

  button {
    background: #ffcc70;
    color: #222;
    border: none;
    padding: 10px 14px;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
    margin: 6px;
  }

  #results {
    margin-top: 20px;
    padding: 15px;
    border: 1px solid #ffcc70;
    border-radius: 8px;
    color: #ffcc70;
    min-height: 80px;
  }

  #cardContainer {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 10px;
    margin-top: 25px;
  }

  .card {
    background: #222;
    border: 1px solid #ffcc70;
    border-radius: 8px;
    padding: 10px;
    color: #ffcc70;
  }
</style>
</head>

<body>

<h1>⚡ DOM Method Speed Test</h1>
<p>Generate 100 cards using different DOM techniques</p>

<button id="htmlBtn">innerHTML</button>
<button id="createBtn">createElement</button>
<button id="adjacentBtn">insertAdjacentHTML</button>
<button id="fragmentBtn">Fragment + Template</button>

<div id="results">Performance results will appear here.</div>
<div id="cardContainer"></div>

<!-- Template for Task 4 -->
<template id="cardTemplate">
  <div class="card">
    <h3>Product</h3>
    <p>Price: ₹100</p>
  </div>
</template>

<script>
  const container = document.getElementById("cardContainer");
  const results = document.getElementById("results");
  const template = document.getElementById("cardTemplate");

  const CARD_COUNT = 100;

  function clearContainer() {
    container.innerHTML = "";
  }

  function showResult(method, time) {
    results.innerHTML = `
      <strong>${method}</strong><br>
      Rendered ${CARD_COUNT} cards in <strong>${time.toFixed(2)} ms</strong>
    `;
  }

  // =============================
  // Method 1 – innerHTML
  // =============================
  document.getElementById("htmlBtn").addEventListener("click", () => {
    clearContainer();
    let html = "";

    const start = performance.now();
    console.time("innerHTML");

    for (let i = 1; i <= CARD_COUNT; i++) {
      html += `<div class="card">
        <h3>Product #${i}</h3>
        <p>Price: ₹${i * 10}</p>
      </div>`;
    }

    container.innerHTML = html;

    console.timeEnd("innerHTML");
    const end = performance.now();
    showResult("innerHTML", end - start);
  });

  // =============================
  // Method 2 – createElement
  // =============================
  document.getElementById("createBtn").addEventListener("click", () => {
    clearContainer();

    const start = performance.now();
    console.time("createElement");

    for (let i = 1; i <= CARD_COUNT; i++) {
      const card = document.createElement("div");
      card.className = "card";

      const h3 = document.createElement("h3");
      h3.textContent = `Product #${i}`;

      const p = document.createElement("p");
      p.textContent = `Price: ₹${i * 10}`;

      card.appendChild(h3);
      card.appendChild(p);
      container.appendChild(card);
    }

    console.timeEnd("createElement");
    const end = performance.now();
    showResult("createElement", end - start);
  });

  // =============================
  // Method 3 – insertAdjacentHTML
  // =============================
  document.getElementById("adjacentBtn").addEventListener("click", () => {
    clearContainer();

    const start = performance.now();
    console.time("insertAdjacentHTML");

    for (let i = 1; i <= CARD_COUNT; i++) {
      container.insertAdjacentHTML(
        "beforeend",
        `<div class="card">
          <h3>Product #${i}</h3>
          <p>Price: ₹${i * 10}</p>
        </div>`
      );
    }

    console.timeEnd("insertAdjacentHTML");
    const end = performance.now();
    showResult("insertAdjacentHTML", end - start);
  });

  // =============================
  // Method 4 – DocumentFragment + Template
  // =============================
  document.getElementById("fragmentBtn").addEventListener("click", () => {
    clearContainer();

    const fragment = document.createDocumentFragment();
    const start = performance.now();
    console.time("DocumentFragment");

    for (let i = 1; i <= CARD_COUNT; i++) {
      const clone = template.content.cloneNode(true);
      clone.querySelector("h3").textContent = `Product #${i}`;
      clone.querySelector("p").textContent = `Price: ₹${i * 10}`;
      fragment.appendChild(clone);
    }

    container.appendChild(fragment);

    console.timeEnd("DocumentFragment");
    const end = performance.now();
    showResult("DocumentFragment + template", end - start);
  });
</script>

</body>
</html>
